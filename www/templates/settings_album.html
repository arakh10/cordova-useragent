<ion-view>
    <ion-nav-title>
        {{album.id ? album.name + ' &laquo; ' + ('My Albums' | translate) : ('My Pictures' | translate)}}
    </ion-nav-title>

    <ion-nav-buttons side="right">
        <button class="button icon ion-upload" ng-click="openFilePicker()"></button>&nbsp;
        <button ng-if="album.id > 0" class="button icon ion-trash-b" ng-click="deleteAlbum()"></button>
    </ion-nav-buttons>

    <ion-content scroll="false">
        <input type="file" accept="image/*" id="file-picker" />

        <resource-collection promise="album.$promise" list="album.photos">
            <div class="row row-wrap">
                <img
                    ng-repeat="photo in album.photos | orderBy:'isMain':true" ng-src="{{photo.url}}"
                    ng-click="showOptionsFor(photo, $event)"
                    class="col col-25 thumb"
                    alt=""
                    ng-class="{main: photo.isMain}"/>
            </div>
        </resource-collection>
    </ion-content>
</ion-view>